<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<title>Introduction to Enonic</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-right">
<div id="header">
<h1>Introduction to Enonic</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction">Introduction</a></li>
<li><a href="#install_cli">Install CLI</a></li>
<li><a href="#create_an_app">Create an app</a>
<ul class="sectlevel2">
<li><a href="#project_structure">Project structure</a></li>
</ul>
</li>
<li><a href="#deploy_the_app">Deploy the app</a></li>
<li><a href="#install_content_studio">Install Content Studio</a></li>
<li><a href="#browse_content">Browse content</a></li>
<li><a href="#content_type_person">Content type: Person</a>
<ul class="sectlevel2">
<li><a href="#x_data_social_media">X-Data: Social media</a></li>
</ul>
</li>
<li><a href="#adding_a_new_content_type">Adding a new content type</a></li>
<li><a href="#graphql_api">Graphql API</a></li>
<li><a href="#sample_queries">Sample queries</a>
<ul class="sectlevel2">
<li><a href="#get_persons">Get Persons</a></li>
<li><a href="#query_variables">Query variables</a></li>
<li><a href="#movies_and_cast">Movies and cast</a></li>
</ul>
</li>
<li><a href="#image_handling">Image handling</a></li>
<li><a href="#api_endpoint">API endpoint</a></li>
<li><a href="#deploying_to_production">Deploying to Production</a></li>
<li><a href="#dive_deeper">Dive deeper</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Hands on intro to our platform, CLI, Content Studio, headless API, and free hosting tier.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<strong>Just looking for a demo?</strong> - <a href="https://enonic.com/sign-up" target="_blank" rel="noopener">Sign up for a free Enonic account</a>. Create a new solution based on the <code>Headless Demo</code> template to get a live demo using the same setup as this tutorial.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="link" href="#introduction">Introduction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This guide will show you how to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>set up a local Enonic developer environment</p>
</li>
<li>
<p>create an Enonic app</p>
</li>
<li>
<p>install and use Content Studio</p>
</li>
<li>
<p>customize the app by adding a new content type</p>
</li>
<li>
<p>access and use the GraphQL API</p>
</li>
<li>
<p>optionally - deploy your app to a live server</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install_cli"><a class="link" href="#install_cli">Install CLI</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Enonic Command Line Interface is an essential tool for developers working with Enonic.</p>
</div>
<div class="paragraph">
<p>If you have <code>npm</code> on your device, run this command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>npm install -g @enonic/cli</pre>
</div>
</div>
<div class="paragraph">
<p>If not, here are some <a href="https://developer.enonic.com/start" target="_blank" rel="noopener">alternative ways to install Enonic CLI</a></p>
</div>
<div class="paragraph">
<p>To verify that the CLI has been installed, run <code>enonic -v</code>. This should output the version of your installed CLI.</p>
</div>
<div class="paragraph">
<p>To see all available options, simply run <code>enonic</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
To upgrade, use <code>enonic latest</code>. If there are new versions you will see instructions on how to upgrade.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create_an_app"><a class="link" href="#create_an_app">Create an app</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Enonic apps are used to ship everything from content models, to code and platform extensions.</p>
</div>
<div class="paragraph">
<p>Create your first Enonic app by running this command in a terminal window:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>enonic create myproject -r app-intro</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Use the default options when prompted.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If this is the first time you are creating an Enonic application, you will be prompted to create a new sandbox. A sandbox is a local development instance linked to a specific distribution of Enonic XP. Give your new sandbox a name (for example <code>intro</code>), then agree to using the latest stable version of Enonic XP for the new sandbox.</p>
</div>
<div class="paragraph">
<p>This will create a new app called <code>myproject</code> in the directory <code>myproject</code> using the <a href="https://market.enonic.com/vendors/enonic/intro" target="_blank" rel="noopener">Intro</a> app as a starter (template) for your app.</p>
</div>
<div class="sect2">
<h3 id="project_structure"><a class="link" href="#project_structure">Project structure</a></h3>
<div class="paragraph">
<p>Inside the <code>myproject</code> directory you should now have an app structure looking something like this:</p>
</div>
<div class="listingblock">
<div class="title">Selected files from the app code:</div>
<div class="content">
<pre class="highlight"><code class="language-files" data-lang="files">docs/ <i class="conum" data-value="1"></i><b>(1)</b>
samples/ <i class="conum" data-value="2"></i><b>(2)</b>
src/
 main/
  resources/
   assets <i class="conum" data-value="3"></i><b>(3)</b>
   controllers <i class="conum" data-value="4"></i><b>(4)</b>
   i18n <i class="conum" data-value="5"></i><b>(5)</b>
   import <i class="conum" data-value="6"></i><b>(6)</b>
   site/
    content-types/ <i class="conum" data-value="7"></i><b>(7)</b>
    x-data/ <i class="conum" data-value="8"></i><b>(8)</b>
gradle.properties <i class="conum" data-value="9"></i><b>(9)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The documentation you are reading now</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Code samples that will be used in this guide</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Client-side assets</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Server-side controller and template</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Localisation bundles</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Sample content</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Content Types schemas</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>X-data schemas</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>App settings and name</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deploy_the_app"><a class="link" href="#deploy_the_app">Deploy the app</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Assuming you did not change the default directory name <code>myproject/</code> when creating the app, run the following commands:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cd myproject
enonic dev</pre>
</div>
</div>
<div class="paragraph">
<p>The last command will make sure to first start the <code>intro</code> sandbox in the development mode, then build and deploy the app to the sandbox, and sequentially keep watching for changes in the server-side code to automatically rebuild and redeploy your app as you work on it.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Look for the following output in the terminal log to verify that the app has started:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>BUILD SUCCESSFUL in 6s
5 actionable tasks: 5 executed
Waiting for changes to input files...</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install_content_studio"><a class="link" href="#install_content_studio">Install Content Studio</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://market.enonic.com/vendors/enonic/content-studio" target="_blank" rel="noopener">Content Studio</a> is the editorial interface used to create and manage content. It is not a part of the core platform, but as you will see soon, it can easily be installed from <a href="https://market.enonic.com" target="_blank" rel="noopener">Enonic Market</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Open the sandbox administration console</strong>: <a href="http://localhost:8080" target="_blank" rel="noopener">http://localhost:8080/admin</a> and click <code>Log in as guest</code>. This will bring you to the Dashboard.</p>
</li>
<li>
<p><strong>Open the Applications app</strong> from the XP Menu in the top right corner: <code>Applications</code>.</p>
<div class="imageblock">
<div class="content">
<img src="media/xp-menu-applications.png" alt="Go to Applications from the XP menu" width="319px">
</div>
</div>
</li>
<li>
<p><strong>Install Content Studio</strong>: click <code>Install</code> button in the menu bar, scroll down to <code>Content Studio</code> (or use search) in the list of apps that appears and click <code>Install</code> next to it.</p>
<div class="imageblock">
<div class="content">
<img src="media/install-content-studio.png" alt="Install the Content Studio app" width="760px">
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="browse_content"><a class="link" href="#browse_content">Browse content</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>When your application was installed, it automatically created a Content Studio project called <code>Sample Content</code>, and imported sample content. Let&#8217;s have a look:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open Content Studio, which is now available in the XP menu: <code>Content Studio</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Content Studio will open the <code>Sample Content</code> project (current project is shown at the top) where you should now see the imported sample content.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="media/content-studio-in-action.gif" alt="Content Studio with Sample content" width="1024px">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="content_type_person"><a class="link" href="#content_type_person">Content type: Person</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>To edit an item, simply select it and click <code>Edit</code> in the menu bar, or by using right click. When editing a Person content item, this is what the form looks like in Content Studio. On bigger screens you will also get a preview on the right-hand side.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="media/person.png" alt="Person Form" width="1024px">
</div>
</div>
<div class="paragraph">
<p>The form definition comes from the content type definition, which is located inside the app. Here is what it looks like:</p>
</div>
<div class="listingblock">
<div class="title">/src/main/resources/site/content-type/person/person.xml</div>
<div class="content">
<pre class="highlight"><code class="language-XML" data-lang="XML">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;content-type xmlns="urn:enonic:xp:model:1.0"&gt;
  &lt;display-name&gt;Person&lt;/display-name&gt;
  &lt;description&gt;Historical or living human&lt;/description&gt;
  &lt;super-type&gt;base:structured&lt;/super-type&gt;
  &lt;form&gt;
    &lt;input type="ImageSelector" name="photos"&gt;
      &lt;label&gt;Photos&lt;/label&gt;
      &lt;occurrences minimum="0" maximum="0"/&gt;
    &lt;/input&gt;
    &lt;input type="TextArea" name="bio"&gt;
      &lt;label&gt;Bio&lt;/label&gt;
       &lt;occurrences minimum="1" maximum="1"/&gt;
    &lt;/input&gt;
    &lt;input type="Date" name="dateofbirth"&gt;
      &lt;label&gt;Birth Date&lt;/label&gt;
       &lt;occurrences minimum="0" maximum="1"/&gt;
    &lt;/input&gt;
  &lt;/form&gt;
&lt;/content-type&gt;</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="x_data_social_media"><a class="link" href="#x_data_social_media">X-Data: Social media</a></h3>
<div class="paragraph">
<p>When editing a Person, you&#8217;ll notice an additional subset of fields inside the Content form with title <code>Social Media</code>. This is strictly speaking a separate form, injected into the Person content form - we call it "extended data" (or "x-data").</p>
</div>
<div class="imageblock">
<div class="content">
<img src="media/some.gif" alt="Social Media x-data form" width="1024px">
</div>
</div>
<div class="paragraph">
<p>The cool thing about x-data is not only the name but the fact that it can be applied across multiple content types. In this app for instance, the Social Media form is also available on the <code>Movie</code> content. X-data can even be injected from a different application - at runtime.</p>
</div>
<div class="paragraph">
<p>This is what the definition looks like:</p>
</div>
<div class="listingblock">
<div class="title">/src/main/resources/site/x-data/some/some.xml</div>
<div class="content">
<pre class="highlight"><code class="language-XML" data-lang="XML">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;x-data&gt;
  &lt;display-name&gt;Social Media&lt;/display-name&gt;
  &lt;form&gt;
    &lt;input type="TextLine" name="imdb"&gt;
      &lt;help-text&gt;URL to IMDB&lt;/help-text&gt;
      &lt;label&gt;Internet Movie Database Url&lt;/label&gt;
      &lt;occurrences minimum="0" maximum="1"/&gt;
    &lt;/input&gt;
    &lt;input type="TextLine" name="twitter"&gt;
      &lt;help-text&gt;Twitter Handle - i.e. @enonicHQ&lt;/help-text&gt;
      &lt;label&gt;Twitter&lt;/label&gt;
      &lt;occurrences minimum="0" maximum="1"/&gt;
      &lt;config&gt;
        &lt;regexp&gt;^@?(\w){1,15}$&lt;/regexp&gt;
      &lt;/config&gt;
    &lt;/input&gt;
    &lt;input type="TextLine" name="instagram"&gt;
      &lt;help-text&gt;Instagram Handle - i.e. @username&lt;/help-text&gt;
      &lt;label&gt;Instagram&lt;/label&gt;
      &lt;occurrences minimum="0" maximum="1"/&gt;
      &lt;config&gt;
        &lt;regexp&gt;^@?(\w){1,28}$&lt;/regexp&gt;
      &lt;/config&gt;
    &lt;/input&gt;
  &lt;/form&gt;
&lt;/x-data&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="adding_a_new_content_type"><a class="link" href="#adding_a_new_content_type">Adding a new content type</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now let&#8217;s do a practical exercise. We will add a new content type called <code>Review</code> to the app. This will allow us to create reviews of movies.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Copy or move the folder</strong> <code>samples/review</code> (along with all its contents) inside <code>src/main/resources/site/content-types</code>.</p>
</li>
<li>
<p><strong>Write a review</strong>. Content Studio should pick up the changes immediately. From the Content navigation view click <code>New</code>, then select content type <code>Review</code> and start filling out the form fields in the new content item.</p>
<div class="imageblock">
<div class="content">
<img src="media/review.png" alt="Sample Review" width="1024px">
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="graphql_api"><a class="link" href="#graphql_api">Graphql API</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://market.enonic.com/vendors/enonic/guillotine" target="_blank" rel="noopener">headless API aka Guillotine</a> - yes, we take headlessness seriously around here - is not a part of the XP Core platform. Like Content Studio, it can be installed from Enonic Market.</p>
</div>
<div class="paragraph">
<p><strong>Install the Guillotine app</strong> from the XP menu: <code>Applications &#8594; Install</code> and find it in the list of apps that appear, then switch back to Content Studio.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The Guillotine API provides read-only-access to all the content within the contextual project. Users requesting content will naturally only get access to the content they have read-permissions for. The "Sample content" project is set up with public read access.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After Guillotine is installed, its icon (and the menu item called <code>Query Playground</code>) will appear in the Content Studio&#8217;s left hand menu. Here, you may test and play with the GraphQL API directly.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="media/query-playground.png" alt="Query Playground in action" width="1024px">
</div>
</div>
<div class="paragraph">
<p>The API documentation is available from the "Query Playground"'s top left "file cabinet" icon. Use the dropdown on the top right to query against the draft or master branch, accessing the draft and published items respectively.</p>
</div>
<div class="paragraph">
<p>Want to know more about GraphQL in general? Visit the <a href="https://graphql.org" target="_blank" rel="noopener">official GraphQL documentation</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sample_queries"><a class="link" href="#sample_queries">Sample queries</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Below are some example queries you can use for fetching the sample content.</p>
</div>
<div class="sect2">
<h3 id="get_persons"><a class="link" href="#get_persons">Get Persons</a></h3>
<div class="listingblock">
<div class="title">Get display name and _path of items in the <code>/persons</code> folder:</div>
<div class="content">
<pre class="highlight"><code class="language-GraphQL" data-lang="GraphQL">{
 guillotine {
  getChildren(key:"/persons" first:3){
    displayName
    _path
    }
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sample response:</div>
<div class="content">
<pre class="highlight"><code class="language-JSON" data-lang="JSON">{
  "data": {
    "guillotine": {
      "getChildren": [
        {
          "displayName": "LÃ©a Seydoux",
          "_path": "/persons/lea-seydoux"
        },
        {
          "displayName": "Jeffrey Wright",
          "_path": "/persons/jeffrey-wright"
        },
        {
          "displayName": "Daniel Craig",
          "_path": "/persons/daniel-craig"
        }
      ]
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="query_variables"><a class="link" href="#query_variables">Query variables</a></h3>
<div class="paragraph">
<p>GraphQL also supports the concept of query variables. Similar to parameters in functions, you may pass variables to a query.</p>
</div>
<div class="paragraph">
<p>Query variables are defined with JSON. You can add them using the <code>Variables</code> button below the query editor.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-JSON" data-lang="JSON">{
  "path": "/persons"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>With the variable set, update your query to use the variable. This query should provide the exact same response as it did before.</p>
</div>
<div class="listingblock">
<div class="title">The Person query, this time using path as a variable:</div>
<div class="content">
<pre class="highlight"><code class="language-GraphQL" data-lang="GraphQL">query($path:ID!){
 guillotine {
  getChildren(key:$path first:3){
    displayName
    _path
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="movies_and_cast"><a class="link" href="#movies_and_cast">Movies and cast</a></h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
If you used something other than <code>myproject</code> as a name for your app, you must replace <code>myproject:movie</code> and <code>myproject_Movie</code> for the query below to work.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Get display name, and the cast of a movie:</div>
<div class="content">
<pre class="highlight"><code class="language-GraphQL" data-lang="GraphQL">{
  guillotine {
    queryDsl(query: {
      term: {
        field: "type",
        value: {
          string: "myproject:movie"
        }
      }
    }, first: 1) {
      displayName
      ... on myproject_Movie {
        data {
          cast {
            actor {
              displayName
            }
            character
          }
        }
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sample response</div>
<div class="content">
<pre class="highlight"><code class="language-JSON" data-lang="JSON">{
  "data": {
    "guillotine": {
      "queryDsl": [
        {
          "displayName": "The Matrix",
          "data": {
            "cast": [
              {
                "actor": {
                  "displayName": "Keanu Reeves"
                },
                "character": "Neo"
              },
              {
                "actor": {
                  "displayName": "Carrie-Anne Moss"
                },
                "character": "Trinity"
              }
            ]
          }
        }
      ]
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="image_handling"><a class="link" href="#image_handling">Image handling</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this case, Guillotine plays tag-team with Enonic&#8217;s image service, which is capable of delivering real-time cropped and optimized versions of images. In this case producing a 400 x 400px version of the image.</p>
</div>
<div class="paragraph">
<p>The query below shows the name of actors containing the term <code>morgan</code>, and provide a link to a cropped image of the actor.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
If you used something other than <code>myproject</code> as a name for your app, you must replace <code>myproject:movie</code> and <code>myproject_Movie</code> for the query below to work.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Name of persons and a link to 400x400 scaled photo</div>
<div class="content">
<pre class="highlight"><code class="language-GraphQL" data-lang="GraphQL">{
  guillotine {
    queryDsl(query: {
      boolean: {
        must: [
          {
            ngram: {
              fields: ["_allText"],
              query: "morgan"
            }
          },
          {
            term: {
              field: "type",
              value: {
                string: "myproject:person"
              }
            }
          }
        ]
      }
    }, first: 1) {
      ... on myproject_Person {
    	  displayName
        data {
          photos(first:1){
            ... on media_Image {
              imageUrl(type:absolute scale:"block(400,400)")
            }
          }
        }
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Sample response</div>
<div class="content">
<pre class="highlight"><code class="language-JSON" data-lang="JSON">{
  "data": {
    "guillotine": {
      "queryDsl": [
        {
          "displayName": "Morgan Freeman",
          "data": {
            "photos": [
              {
                "imageUrl": "http://localhost:8080/admin/site/preview/intro/draft/_/image/7ab1f76a-69a1-490f-b505-6eb6773c7cec:603726cc4fa712aa1b70c7eb64e1349f664494c3/block-400-400/morgan-freeman.jpg"
              }
            ]
          }
        }
      ]
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When looking at the result in Query Playground, you can see the actual image by hovering over the link:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="media/morgan-photo.png" alt="Cropped version of Morgan Freemans image" width="1024px">
</div>
</div>
<div class="paragraph">
<p>The original higher resolution image is stored as a content item, just like persons and reviews. This is what it actually looks like:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="media/morgan-original.png" alt="The original version of Morgan Freemans photo is widescreen, with a red " width="1024px">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The red "autofocus" circle, when set, helps the image service to crop the images optimally - as you can see above.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="api_endpoint"><a class="link" href="#api_endpoint">API endpoint</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>So far, you&#8217;ve been playing with the API via Content Studio. If you want to access the API endpoint directly, it&#8217;s available at respectively</p>
</div>
<div class="ulist">
<ul>
<li>
<p>http://localhost:8080/site/intro/draft (draft items)</p>
</li>
<li>
<p>http://localhost:8080/site/intro/master (published items)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The API can be deployed to a custom domain (aka vhost) when you go live. Also, important to notice - the GraphQL API is accessed via HTTP POST method, as such - visiting via a regular browser will render error 404.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The Chrome extension <a href="https://chrome.google.com/webstore/detail/altair-graphql-client/flnheeellpciglgpaodhkhmapeljopja" target="_blank" rel="noopener">Altair</a> lets you browse any GraphQL API, simply by pointing it to the API URL.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deploying_to_production"><a class="link" href="#deploying_to_production">Deploying to Production</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>To deploy your application to production, you&#8217;ll need Enonic XP running on a server.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you are looking for other hosting options, Enonic XP is open source, and <a href="https://developer.enonic.com/docs/hosting" target="_blank" rel="noopener">can be deployed pretty much anywhere</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start by <strong><a href="https://enonic.com/sign-up" target="_blank" rel="noopener">signing up</a></strong> for a free account. You must complete the verification steps before you can move on.</p>
</li>
<li>
<p>Log in to the <a href="https://cloud.enonic.com" target="_blank" rel="noopener">Enonic Cloud console</a> , and <strong>Create a new  solution</strong> from the menu <code>Solutions &#8594; CMS essentials</code>. Complete the solution wizard steps using your preferences.</p>
<div class="paragraph">
<p>Similar to a sandbox, this will spin up an instance of Enonic XP, but this time on a real server in the Cloud.</p>
</div>
</li>
<li>
<p>Once the solution has started, <strong>authenticate the CLI</strong> by running this command:</p>
<div class="literalblock">
<div class="content">
<pre>enonic cloud login</pre>
</div>
</div>
<div class="paragraph">
<p>After successful authentication install your app using this command:</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
You must execute the command from your app folder.
</td>
</tr>
</table>
</div>
<div class="literalblock">
<div class="content">
<pre>enonic cloud app install</pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively upload the app manually via Enonic console: <code>Solutions &#8594; &lt;Your solution&gt; &#8594; Applications &#8594; Install</code>.</p>
</div>
<div class="paragraph">
<p>The app file is in your project folder i.e. <code>build/libs/myproject.jar</code>.</p>
</div>
</li>
<li>
<p><strong>Expose your API</strong> by creating a Route in Enonic console: <code>Solutions &#8594; &lt;Your solution&gt; &#8594; Ingresses &#8594; Create</code>.</p>
<div class="paragraph">
<p>Give it a suitable name i.e. <code>Intro API</code>, and use the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Environment: keep the default/selected value</p>
</li>
<li>
<p>Target: <code>/site/intro/master</code></p>
</li>
<li>
<p>Domain: keep the default/selected value</p>
</li>
<li>
<p>Path: <code>/api</code></p>
</li>
<li>
<p>ID provider: leave empty</p>
</li>
</ul>
</div>
</li>
<li>
<p>Tadaa! Your published content can now be queried directly on the URL created by this route. Remember to use POST, not GET, to fetch the data.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dive_deeper"><a class="link" href="#dive_deeper">Dive deeper</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>ð Sweet! You made it to the end.</p>
</div>
<div class="paragraph">
<p>In the process, you built and customized your own app, installed apps from Enonic Market, ran GraphQL queries, got to know the Enonic CLI and our Cloud-hosted offerings.</p>
</div>
<div class="paragraph">
<p>As you may imagine, the platform is capable of so much more. Did you for instance know that Enonic has a <a href="https://developer.enonic.com/docs/xp/stable/framework">JavaScript framework</a>, with full <a href="https://www.npmjs.com/org/enonic-types^" target="_blank" rel="noopener">TypeScript definitions</a> for Core API libraries? You may use it in your apps to extend and customize the Platform as you like.</p>
</div>
<div class="paragraph">
<p>To continue the journey, we recommend visiting the <a href="https://developer.enonic.com/docs/tutorials">Enonic tutorials</a> section of our Developer Portal.</p>
</div>
<div class="paragraph">
<p>Bon voyage!</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-01-12 10:28:45 UTC
</div>
</div>
</body>
</html>